<div class="header row">
    <div class="col-md-6">
        <h1><%= @song.title %></h1>
        <h2><%= link_to @artist.name, artist_path(@artist) %></h2>
    </div>
    <div class="col-md-6">
            <%= link_to 'Edit', edit_artist_song_path(@song.artist, @song), class: :btn %>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <p><%= @song.status.titlecase %></p>

        <% if @song.instrument.present? %>
            <p><%= @song.instrument.titlecase %></p>
        <% end %>

        <% if @song.difficulty.present? %>
            <p><%= @song.difficulty.titlecase %></p>
        <% end %>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h2>Notes</h2>
        <% if @song.notes.present? %>
            <% @song.notes.each do |note| %>
                <p><%= note.body %>
                    <%= link_to [note.song, note],
                                method: :delete,
                                data: { confirm: 'Are you sure?' } do %>
                                <i class="fas fa-times"></i>
                    <% end %>
                </p>
            <% end %>
        <% else %>
            <p>No notes.</p>
        <% end %>

        <%= form_with(model: [ @song, @song.notes.build ], local: true) do |form| %>
            <strong>New Note</strong>
            <p>
                <%= form.text_area :body %>
            </p>
            <p>
                <%= form.submit class: 'btn' %>
            </p>
        <% end %>
    </div>
    <div class="col-md-6">
        <h2>Video</h2>
        <% if @song.url.present? %>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/<%= @song.url %>" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <% end %>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
            <iframe src="https://open.spotify.com/embed/track/5ihS6UUlyQAfmp48eSkxuQ" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
    </div>
</div>